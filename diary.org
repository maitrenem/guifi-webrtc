* Diary
Everyday it's a-gettin' closer
** <2015-06-14 Sun>
- review of guifi.net architecture and network requirement sections
- Kamailio scripts to call from websocket UA to classic UA, and vice versa. https://github.com/caruizdiaz/kamailio-ws
- doubts about "sdp exchange sip jsep webrtc" and "jsep compatibility with sip webrtc" and "rtpproxy kamailio webrtc sip"
- rtpengine
  - http://kamailio.org/docs/modules/devel/modules/rtpengine.html
  - https://github.com/sipwise/rtpengine
  - compile it https://voipmagazine.wordpress.com/2015/02/17/rtpengine-compilation-and-installation-in-fedora-redhat/
- http://lists.sip-router.org/pipermail/sr-users/2014-November/085941.html
- dtls
  - https://www.w3.org/2014/strint/papers/51.pdf
  - The Design and Implementation of Datagram TLS http://crypto.stanford.edu/~nagendra/papers/dtls.pdf
  - in wireshark https://wiki.wireshark.org/DTLS
    - https://wiki.wireshark.org/RTP
- first sdp with INVITE, second (return) with SIP ACK
- example call flow section 8.2: "INVITE Dialog through a Proxy". src https://tools.ietf.org/html/rfc7118
- stats
  - chrome://webrtc-internals/
  - 
- WebRTC + Kamailio as SIP-proxy + rtpproxy(?) as media-proxy http://lists.sip-router.org/pipermail/sr-users/2014-November/085941.html

** <2015-06-13 Sat>
- added security (ldap and oauth) as /important mechanism/ in internet's evolution
- bw vs throughput
  - bandwidth is the maximum amount of data that can travel through a 'channel'.
  - throughput is how much data actually does travel through the 'channel' successfully. This can be limited by a ton of different things including latency, and what protocol you are using.
- guifi.net architecture finished
- network requirement finished
** <2015-06-12 Fri>
- revision of conclusions and future work
- working on guifi.net architecture, more images
** <2015-06-11 Thu>
- http://10.228.203.232/cgi-bin/smokeping.cgi?target=guifi.WebUPF
- JsSIP uses the WebRTC stack of the browser (currently just Chrome has a working WebRTC stack), and WebRTC is not "just "RTP" but it requires SRTP (Secure RTP), ICE, a new SDP profile (SAVPF) and so on. It's not possible to make a direct media session between JsSIP (or any other WebRTC based SIP device) and Linphone since Linphone is a basic SIP client with just common plain RTP support, no ICE no SRTP no SAVPF. 
  - src https://groups.google.com/forum/#!searchin/jssip/webrtc$20sip$20srtp$20rtp/jssip/Dr7IORICrJ8/qmdnDdO_Q9YJ
- webrtc standalone client https://github.com/mozilla/webrtc-standalone
- editor improve: added possibility to put appendix, bibliography appear in table of contents and pdf index, contents appear in pdf index
- table of contents reestructure of project
- ideas for conclusions future work
- new opportunity in swot analysis
- /distributed star topology?/ http://en.wikipedia.org/wiki/File:Internet_map_1024.jpg
- writing start of guifi.net architecture
- proposal for conclusion and future work
** <2015-06-10 Wed>
- proposal: where it says architecture -> network architecture
  - Real-Time Communication Network Architecture Design for Organizations with WebRTC
- change title to? Real-time Communications Network Architecture Design for Organizations with WebRTC
  - if yes, change README, abstract, /controlled search & replace/
- guifi architecture / network requirements
** <2015-06-09 Tue>
- https://tools.ietf.org/html/rfc5124#section-1 SAVPF seems that is for encryption RCTP
- Extended *Secure* RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF) [https://tools.ietf.org/html/rfc5124] An RTP profile (SAVP) for secure real-time communications and another profile (AVPF) to provide timely feedback from the receivers to a sender are defined in RFC 3711 and RFC 4585, respectively.  This memo specifies the combination of both profiles to enable secure RTP communications with feedback.
  - SRTP https://tools.ietf.org/html/rfc3711
  - Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF) https://tools.ietf.org/html/rfc4585
- Put this about WebRTC. media engine market: https://bloggeek.me/webrtc-media-engine/. Don't know how to put it, seems there is no space
- [security] interesting/important How to work with OAuth and WebRTC: https://tools.ietf.org/html/draft-ietf-rtcweb-security-arch-11#appendix-A.2
- State of the art of WebRTC finished
** <2015-06-08 Mon>
- The one and only architectural requirement with respect to this part of a WebRTC application concerns the availability of a properly configured bidirectional communication channel between the web browser and the web server. WebSocket, for example.
- The signalling channel is needed to allow the exchange of three types of information between WebRTC peers
  - Media session management: setting up and teatring down the communication, as well as reporting potential error conditions
  - Node's network configuration: network addresses and ports available for the exchanging of real-time data, even in the presence of NATs
  - Node's multimedia capabilities: supported media, available encoders/decoders (codecs), supported resolutions and frame rates, etc.
  - note: no data can be transferred between WebRTC peers before all of the above information has been properly exchanged and negotiated.
- Rewrite rule of apache for websockets http://stackoverflow.com/questions/27526281/websockets-and-apache-proxy-how-to-configure-mod-proxy-wstunnel
- webrtc test http://iswebrtcready.appear.in/
- Opus: Opus: Supports constant and variable bitrate encoding from 6 kbit/s to 510 kbit/s, frame sizes from 2.5 ms to 60 ms, and various sampling rates from 8 kHz (with 4 kHz bandwidth) to 48 kHz (with 20 kHz bandwidth, where the entire hearing range of the human auditory system can be reproduced). Defined by IETF RFC 6176. [src http://www.webrtc.org/architecture]
- screen sharing firefox hello http://www.wired.co.uk/news/archive/2015-03/06/firefox-hello-video-call-upgrade
- trickle ice: incremental updates to the other peer
- https://tools.ietf.org/html/draft-ietf-rtcweb-security-arch-11 seems an important document!!!
- about PeerConnection: Once the PeerConnection is created, the calling service JS needs to set up some media.  Because this is an audio/video call, it creates a MediaStream with two MediaStreamTracks, one connected to an audio input and one connected to a video input. Source: https://tools.ietf.org/html/draft-ietf-rtcweb-security-arch-11
- about JSEP: In the current W3C API, once some streams have been added, Alice's browser + JS generates a signaling message [I-D.ietf-rtcweb-jsep] containing: media channel information, ICE candidates, A fingerprint attribute binding the communication to a key pair [RFC5763] (SRTP+DTLS) [Note that this key may simply be ephemerally generated for this call or specific to this domain, and Alice may have a large number of such keys.]
- interesting meetings about webrtc and presentations https://www.terena.org/activities/tf-webrtc/
- chromium and firefox now works with meet jitsi https://hacks.mozilla.org/2015/06/firefox-multistream-and-renegotiation-for-jitsi-videobridge/
  - the issue in jitsi-meet github https://github.com/jitsi/jitsi-meet/issues/4
** <2015-06-07 Sun>
- Missing Proxy definition
- Websocket bidirectional between web server and browser. WebRTC bidirectional between browsers. http://stackoverflow.com/questions/4118272/do-websockets-allow-for-p2p-browser-to-browser-communication
- kamailio installation in internet server at UPF

- foxyproxy buggy with ws, works with wss. firefox proxy works

- transport of webrtc is not working via http proxy. (to do the test disable fetch internet)
  - https://webrtchacks.com/a-hitchhikers-guide-to-webrtc-standardization/
    - http proxies http://tools.ietf.org/html/draft-hutton-rtcweb-nat-firewall-considerations

      - F21 The browser must be able to send streams and data to a peer in the presence of Firewalls that only allows traffic via a HTTP Proxy, when Firewall policy allows WebRTC traffic. src https://tools.ietf.org/html/draft-ietf-rtcweb-use-cases-and-requirements-14#section-4.2
      - http://tools.ietf.org/agenda/89/slides/slides-89-rtcweb-8.pdf
      - last notice: https://www.ietf.org/mail-archive/web/rtcweb/current/msg12921.html   Note: I don’t intend to maintain or progress [I-D.hutton-rtcweb-nat-firewall-considerations].
      - evolution to...?
        - http://tools.ietf.org/html/draft-ietf-httpbis-tunnel-protocol-04
          - The HTTP CONNECT method (Section 4.3.6 of [RFC7231]) requests that the recipient establish a tunnel to the identified origin server and thereafter forward packets, in both directions, until the tunnel is closed.  Such tunnels are commonly used to create end-to-end virtual connections, through one or more proxies.
          - ALPN identify the protocol to be used (ALPN: http://tools.ietf.org/html/rfc7301)
            - https://tools.ietf.org/html/draft-ietf-rtcweb-alpn-01
            - origins: http://en.wikipedia.org/wiki/Application-Layer_Protocol_Negotiation
        - http://tools.ietf.org/html/draft-ietf-rtcweb-transports-08
          - binding to httpbis-tunnel-protocol https://tools.ietf.org/html/draft-ietf-httpbis-tunnel-protocol-04
          - The WebRTC implementation MAY support accessing the Internet through an HTTP proxy.  If it does so, it MUST support the "connect" header as specified in [I-D.ietf-httpbis-tunnel-protocol].

    - WebRTC Media gateway: it does all the media plane adaptations and its functionality include things like SRTP/RTP media conversion

    - WebRTC portal/Unified Auth System: For the last couple of years I’ve seen service providers combining things like SIP and Oauth 2.0 and hence implementing a very basic version of what some folks call today ‘Identity Federation’. I think this kind of features/services will gain popularity in the context of WebRTC; especially when users can reach each other using the Internet.

- about sdp https://webrtchacks.com/the-minimum-viable-sdp/
  - WebRTC uses ICE and DTLS to establish a secure connection between peers
  - SDP anatomy https://webrtchacks.com/sdp-anatomy/


- starting webrtc state of the art
  - rtcweb overview https://tools.ietf.org/html/draft-ietf-rtcweb-overview-13
    - use cases and requirements https://tools.ietf.org/html/draft-ietf-rtcweb-use-cases-and-requirements-14
      - Wiretapping is what occurs when information passed across the Internet from one party to one or more other parties is delivered to a third party
      - Appendix API requirements for the browser
    - terminology
      - Signalling path
      - Media path
    - figure 2 is interesting
    - functionalities
      - data transport
      - data framing
      - data formats
      - connection management (signalling)
      - presentation and control (?)
      - local system support functions: include echo cancellation, volume control, camera management including focus, zoom, pan/tilt controls (if available), and more.
- squid is a http proxy server

** <2015-06-06 Sat>
- state of the art, doing sip and xmpp
- XEP-166: "Because dual-stack XMPP+SIP clients are difficult to build, Jingle was designed as a pure XMPP signalling protocol". Not anymore with websockets, web development?
  - history: "Implementation experience indicates that a dual-stack approach might not be feasible on all the computing platforms for which Jabber clients have been written, or even desirable on platforms where it is feasible."
- IETF WG JOSE https://tools.ietf.org/wg/jose/
  - JSON Web Encryption (JWE) https://tools.ietf.org/html/draft-ietf-jose-json-web-encryption-40
    - http://www.ietf.org/proceedings/83/slides/slides-83-xmpp-1.pdf
** <2015-06-05 Fri>
- corrections to text already written
** <2015-06-04 Thu>
- fundamentals added: SDP
- state of the art: HTTP, HTTPS, W3C as organization
** <2015-06-03 Wed>
- State of the art, important mechanisms
- Security / Auth
  - about OAuth http://code.tutsplus.com/articles/oauth-20-the-good-the-bad-the-ugly--net-33216
  - SAML vs federated login with OAuth http://stackoverflow.com/questions/2837553/saml-vs-federated-login-with-oauth
  - Using LDAP for Authentication is Never Best Practice http://www.erikwebb.net/blog/using-ldap-authentication-never-best-practice/
  - OAuth has RFC
  - An identity access management (IAM) system is a framework for business processes that facilitates the management of electronic identities.
** <2015-06-02 Tue>
- Finished real-time quality measurements, review
** <2015-06-01 Mon>
- http://stackoverflow.com/questions/21775531/csrc-and-ssrc-in-rtp
- interesting slides, interesting slides https://jitsi.org/Education/RTCSof
  - (RTP media transport) https://jitsi.org/rtcsof/1.voip-basics.pptx.pdf
    - CSRC and SSRC is for mixing (that's why is used in jitsi)
** <2015-05-31 Sun>
- WebRTC has incompatibility in transport packets with SIP. So a gateway is needed.
- correct typos in all document, finish structure of communications
** <2015-05-30 Sat>
- writing section communications
** <2015-05-22 Fri>--<2015-05-29 Fri> sprint 2
*** <2015-05-29 Fri>
- Review this definitions
  - RTP: Real-time Transport Protocol is an Internet Engineering Task Force (IETF) standardized protocol for transmitting multimedia in IP networks. RTP is used for the “bearer” channels—the actual voice, video, and image content. SIP is commonly used for the signaling to set up and tear down sessions.
  - SIP: Session Initiation Protocol establishes sessions over IP networks, such as those for telephone calls, audio conferencing, click-to-dial from the Web, and instant messaging exchanges between devices. It is also used to link IP telephones from different manufacturers to SIP-compatible IP telephone systems. It is used in landline and mobile networks.
  - QoS: Quality of Service guarantees a particular level of service. To meet these guarantees, service providers or IT staff members allocate bandwidth for certain types of traffic.
  - Router: Routers carry traffic between LANs, from enterprises to the Internet, and across the Internet. They are more complex than switches because they have routing tables with addresses and perform other functions. Routers select the best available path over which to send data.
  - G.711 is used to compress voice signals at 64,000 bits per second plus a 6- to 21-kilobit header for VoIP services. It produces good voice quality but uses more network capacity than other compression techniques. This technique requires 60 milliseconds to process and “look ahead” (check the route).
- check
  - https://tools.ietf.org/html/draft-ietf-rtcweb-audio
  - https://tools.ietf.org/html/draft-ietf-rtcweb-rtp-usage-23
- more about RTP-RTCP-RTSP (AIS course)
- about him
  - http://www.arkko.com/tools/allstats/simonpietroromano.html
  - http://www.computer.org/csdl/mags/ic/2012/05/mic2012050068-abs.html
- 2.2.4 Protocols TFG Velazquez
*** <2015-05-28 Thu>
- RTP-RTCP-RTSP overview
- SSRC field identifies the synchronization source. This identifier SHOULD be chosen randomly, with the intent that no two synchronization sources within the same RTP session wil have the same SSRC identifier.
- working on some fundamental definition
- how to handle bibliography: http://www.ijet.pl/ijet-files/Bibtex.pdf
*** <2015-05-27 Wed>
- some diagrams
- network requirements, delay, bandwidth (math appear)
  - http://nptel.ac.in/courses/106105086/pdf/module6.pdf
  - https://tools.ietf.org/html/rfc1193
  - https://csperkins.org/teaching/rtes/lecture15.pdf
  - ftp://www.eecs.berkeley.edu/pub/tenet/papers/RamVen92b.ps
  - http://cesg.tamu.edu/wp-content/uploads/2012/02/12-magazine.pdf
- https://www.terena.org/activities/tf-webrtc/meeting2/slides/20150509-Cisco-WebRTC.pdf
  - reduce the complexity? 
  - WebRTC motivations: easy and rich for developers, easy to deploy (crossplatform), strong security, P2P
  - The SDP offer/answer protocol used by SIP is used for media negotiation
  - identity does not allow man in the middle
  - security issue with split tunnel http://en.wikipedia.org/wiki/Split_tunneling
    - http://www.unhappyghost.com/2015/02/webrtc-killing-tor-vpn-ip-masking-privacy.html
  - http://www.gfi.com/blog/to-split-or-not-to-split-that-is-the-question/
  - https://diafygi.github.io/webrtc-ips/
  - http://ipleak.net/
- http://10.90.224.161 -> QoS ?
- QoS
  - Mikrotik
    - Firewall Mangle =/ip firewall mangle print=
    - Queue Queue tree =/queue tree= -> priority queue
    - http://wiki.mikrotik.com/wiki/DSCP_based_QoS_with_HTB
    - http://forum.mikrotik.com/viewtopic.php?t=73214
  - Linux kernel
    - tc, mangle (traffic shaping)
    - http://www.netfilter.org/documentation/HOWTO/netfilter-hacking-HOWTO-3.html
  - DSCP diff serv http://en.wikipedia.org/wiki/Differentiated_services#Classification_and_marking
- Try VPN if is visible my real IP
*** <2015-05-26 Tue>
- Progress on use cases, component requirements
*** <2015-05-25 Mon>
- dudas dnsservices
  - Advanced configuration permite hacer MX (en ese mismo sitio habría que añadir SIP, XMPP y NAPTR)
  - to confirm
    - external: anounced by guifi.net through internet
    - internal: anounced inside guifi.net with servers and dnsservices
- http://www.slideshare.net/miconda/kamailio-sip-routing-in-lua
  - Missed call notification
    - appears here https://tools.ietf.org/html/rfc3326
  - Lua Config
- Org diagram example
  - https://code.google.com/p/oslo-protocol/wiki/OSLOcomponents
- XMPP vs SIMPLE http://vinaytechs.blogspot.com.es/2009/10/xmpp-and-simple-comparative-study.html
- kamailio
  - what is kamailio http://www.kamailio.org/wp-images/kamailio-sip-ucp.png
  - http://www.asipto.com/pub/kamailio-devel-guide/
  - doxygen http://rpm.kamailio.org/doxygen/sip-router/branch/master/
  - wiki http://sip-router.org/wiki/
  - wiki http://www.kamailio.org/wiki/
  - GUI Siremis
- Authentication protocol, list https://en.wikipedia.org/wiki/Authentication_protocol
  - Radius
    - Because of the broad support and the ubiquitous nature of the RADIUS protocol, it is often used by ISPs and enterprises to manage access to the Internet or internal networks, wireless networks, and integrated e-mail services. 
    - Radius RFC2865 https://tools.ietf.org/html/rfc2865
    - Radius RFC5080 http://www.rfc-editor.org/rfc/rfc5080.txt
  - Diameter is theoretically better than radius https://en.wikipedia.org/wiki/Diameter_(protocol)
    - http://www.freediameter.net/
- LDAP: A common usage of LDAP is to provide a "single sign on" where one password for a user is shared between many services
  - origins of LDAP https://en.wikipedia.org/wiki/X.500
- https://en.wikipedia.org/wiki/EAP
*** <2015-05-24 Sun>
- What is XMLHttpRequest ?

- Real-time communication with WebRTC
  - "The general idea behind the design of WebRTC has been to fully specify how to control the media plane, while leaving the signalling plane as much as possible to the application layer"
  - Session description represents the most important information that needs to be exchanged.
  - SDP blocks presented things really hard to address, IETF is standardizing JavaScript Session Establishment Protocol (JSEP). Its approach is to delegate entirely to the application the responsibility for driving the signaling state machine.
  - Security
    - Handshake with DTLS self-signed certificates
    - SRTP is used on the wire. (stream data)
      - RTCP
      - RTP
      - SCTP: (for) multiple streams
        - encapsulation of SCTP over DTLS over UDP together with ICE provides a NAT traversal solution, confidentiality, source authentication, integrity protected transfers. Allows data transport  to interwork parallel media transport, share single transport-layer port number. Possibility of opening several independent streams within a SCTP association towards a peering SCTP endpoint.
      - Multiplex all the sessions in one
  - WebRTC API
    - MediaStream: acquisition and management actions on the media stream (getUserMedia)
    - PeerConnection: management of connections. Allows two users to communicate directly. Typically websocket. Uses ICE with STUN and TURN
    - DataChannel: management of arbitrary data. Designed to provide a generic transport service allowing peers to exchange generic data as bidirectional P2P.
      - bundle of incoming and outgoing SCTP stream
      - DataChannel (SCTP?) vs WebSockets ?
*** <2015-05-22 Fri> after meeting
- featured (WebRTC in general): https://www.terena.org/activities/tf-webrtc/meeting2/slides/20150509-Cisco-WebRTC.pdf
**** Analysis (there is a convergence to webrtc)
- amazon https://webrtchacks.com/mayday-trace/
- whatsapp https://webrtchacks.com/whats-up-with-whatsapp-and-webrtc/
- google hangouts https://webrtchacks.com/hangout-analysis-philipp-hancke/
- facebook https://webrtchacks.com/facebook-webrtc/
- firefox hello https://webrtchacks.com/hello-decode/
**** Memory Refactor
- Change of title and abstract (with WebRTC)
- Change scope, put pyramid of work style in methodology
- Search of info
**** Things to consider
- http://www.webrtc.org/architecture
- NAT Traversal (Newtork Address Translator)
  - RFC1631
  - http://en.wikipedia.org/wiki/Network_address_translation
    - Symmetric NAT (typical case)
- ICE https://tools.ietf.org/html/rfc5245 (ICE Candidate Exchanging)
  - ICE lite
  - https://webrtchacks.com/trickle-ice/
  - intro ice: https://docs.google.com/presentation/d/17mVv6_eKqLkKkG-pwx_p-NOrYl2CK02OAtAtcHKJgHU/edit#slide=id.p4
- STUN: RFC5389 (3489?) 7350
  - https://webrtchacks.com/stun-helps-webrtc-traverse-nats/
  - discovers presence of a NAT, obtain the allocated public IP and port tuple for the current connection. Requires STUN server that resides on public network.
  - is a way to ask a public server what a client’s apparent IP address is
- TURN: RFC5766
  - Traversal Using Relays around NAT (TURN) allows a host behind a NAT to obtain a public IP address and port from a relay server residing on the public Internet. Thanks to the relayed transport address, the host can then receive media from any peer that can send packets to the public Internet (book communications)
  - alternate definition: is a remote relay tunnel protocol to tunnel data to and from a public server (presentation cisco webrtc)
- SIP guide https://www.rfc-editor.org/rfc/rfc5411.txt
- SIP https://www.ietf.org/rfc/rfc3261.txt
- SIP - WebRTC interop
  - http://www.slideshare.net/victorpascual/webrtc-and-voip-bridging-the-gap-kamailio-world-conference-2013
  - https://webrtchacks.com/webrtc-gw/
    - DTLS/ICE/SRTP https://webrtchacks.com/wp-content/uploads/2014/03/webrtc-2.jpeg
- webrtc books https://bloggeek.me/best-webrtc-book/
  - https://bloggeek.me/webrtc-book-interview/
    - /You focus a lot in the book about connectivity to SIP and PSTN/
- webrtc draft security http://www.ietf.org/id/draft-ietf-rtcweb-security-arch-11.txt
  - Datagram Transport Layer Security (DTLS), Secure Real-time Transport Protocol (SRTP) - DTLS-SRTP is an essential protocol for WebRTC key management
    - src:http://en.wikipedia.org/wiki/WebRTC
    - http://en.wikipedia.org/wiki/Datagram_Transport_Layer_Security
    - http://en.wikipedia.org/wiki/Secure_Real-time_Transport_Protocol
- [signalling] JSEP style SDP https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-09
- media transport https://www.ietf.org/proceedings/89/slides/slides-89-rtcweb-6.pdf
  - draft-ietf-rtcweb-rtp-usage-12
- [security] https://webrtchacks.com/webrtc-must-implement-dtls-srtp-but-must-not-implement-sdes/
  - zrtp http://tools.ietf.org/html/draft-johnston-rtcweb-zrtp-00
***** IETF (RTCWEB group)
- http://tools.ietf.org/wg/rtcweb/charters
- all webrtc work of IETF: https://tools.ietf.org/wg/rtcweb/
- overview https://tools.ietf.org/html/draft-ietf-rtcweb-overview-13
- use cases, requeriments http://www.ietf.org/rfc/rfc7478.txt
- data tracker: http://datatracker.ietf.org/wg/rtcweb/documents/
- security: http://www.ietf.org/id/draft-ietf-rtcweb-security-arch-11.txt
***** w3c
- http://www.w3.org/2011/04/webrtc-charter.html
- http://www.w3.org/TR/webrtc/
- http://w3c.github.io/mediacapture-main/
***** webrtchacks (more)
- https://webrtchacks.com/ims-approach-webrtc/
- https://webrtchacks.com/wonder_webrtc_nni/
**** Discarded
- [Discarded, not enough time] sipwise.org is an easy solution, provides XMPP and SIP, how it works, see here: http://www.kamailio.org/events/2014-KamailioWorld/day0/w1-Andreas.Granig-SIPProvider-Workshop.pdf
**** Drupal guifi
- ????
- http://en.wikipedia.org/wiki/SRV_record#Usage
- SRV mail https://tools.ietf.org/html/rfc6186
  - http://en.wikipedia.org/wiki/Mail_submission_agent
** <2015-05-13 Wed>--<2015-05-22 Fri> sprint 1
*** <2015-05-22 Fri> before meeting
- POCs summary
  - kamailio SIP
    - tryit.jssip.net
    - jscommunicator
  - prosody XMPP bosh
    - prosody webchat
    - candy chat
    - converse
    - loqui
  - what I have planned
    - upgrade XMPP bosh -> websockets
    - SIP webrtc -> webrtc a webrtc
- TURN: forwarding a nivel de IP
- gateway: conversión a nivel de aplicación, y a nivel de transporte
  - gateway, se usa la capa más alta
  - mediagateway: adaptación de medios
- turn server
  - check turn server work: http://stackoverflow.com/questions/21227770/opensips-rtpproxy-integration
  - RTPProxy [turn server]: It should be able to handle up to 2,000 simulateneous G.729 sessions on a decent machine (P4 2.5-3.0 GHz). Please note that fine-tuning of OS network stack parameters can be necessary to get such high numbers, since RTP traffic consists of big number of very short UDP frames (up to 30 frames/sec for one session), so that network stack should be prepared to handle huge number of short packets.
  - https://webrtchacks.com/coturn/ (continue reading: Example from the latest TURNbis draft)
    - rfc5766-turn-server (legacy): The old project, rfc5766-turn-server, will continue benefiting from the stable code and large number of users; it has trusted verified code with minimum changes Only the bug fixes and absolutely necessary changes are added to the old project. That project is going to continue to exist and be supported as long as the legacy old-style RFC5766-compliant solutions are still in demand.
    - coturn (new features)
- ngrep -d any -W byline port 5060
  - src http://jonathanmanning.com/2009/11/17/how-to-sip-capture-using-ngrep-debug-sip-packets/
- Mediaserver (streaming)
  - http://lynckia.com/licode/
  - http://kurento.org
    - https://www.terena.org/activities/tf-webrtc/meeting2/slides/20150519-kurento.pdf
  - licode vs kurento: https://groups.google.com/forum/#!topic/lynckia/CX71wIwcYWA
    - My sense is that Kurento is focused on video mixing big time. For example, companies can mix their logos etc in live videos. The focus is on augmenting video stream with ads or data or other things. Their focus seems less on conferencing solution. Whereas Licode does not attempt to mix streams. Their focus is entirely on video conferencing. Also, mixing in Kurento is still has to come a long way in comparison to FFmpeg.
**** theory
- Documment theory, read.
- Move contents of thesis.pdf.bkp to thesis.org
- Fundamentals, State of the Art, Define, redefine contributions

*** <2015-05-21 Thu>
- mediaservers: https://groups.google.com/forum/#!topic/lynckia/CX71wIwcYWA
- WebRTC -> SIP [http://www.kamailio.org/w/2013/08/new-module-rtpproxy-ng-webrtc-to-bare-rtp/]
- strophe apps
  - [old] https://code.google.com/p/trophyim/
    - explanation: https://delog.wordpress.com/2011/03/31/web-chat-using-strophe-and-openfire/
  - [simple] prosody webchat
  - [good] candy chat
  - [complete?] conversejs, interesting for integration in a website
    - about https://opkode.com/blog/category/strophe-js/
    - do chat app inspired by conversejs https://developer.tizen.org/documentation/articles/chat-application
    - docs
      - https://conversejs.org/docs/html/manual.html
      - https://conversejs.org/docs/html/index.html
  - [mobile] https://loqui.im/
    - perhaps could be working https://github.com/loqui/im/issues/721
- register account prosody
  - prosodyctl register bob test.org bob
    - jitsi error XMPP account: No SRV addresses found for _xmpp-client._tcp.10.1.56.195
    - gajim works by default
    - swift works by default
- try general roaster, user account - candy chat (intro to a plugin in candy)
  - static lobby
  - using strophe client: https://github.com/candy-chat/candy/issues/256
    - https://github.com/metajack/strophejs-plugins/blob/master/roster/strophe.roster.js
    - se incluye en el index.html
  - no es candy.init(), sino candy.core.init() [está de la versión antigua]
- http://xmpp.org/extensions/xep-0206.html
- implement exactly google talk? http://www.opensourceforu.com/2012/06/use-xmpp-to-create-your-own-google-talk-client/
- xmpp vocabulary:
  - stanza
- ejabberd-websocket README calls XMPP over WebSocket "a more elegant, modern and faster replacement to Bosh
- give it a try: https://web.whatsapp.com/
*** <2015-05-20 Wed>
- about prosody for guifi routers
  - available in openwrt
    - its doc http://wiki.openwrt.org/doc/howto/xmpp.server
    - .ipk 200 KB, x86 version: https://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/prosody_0.9.4-1_x86.ipk
    - * 	luafilesystem * 	libidn * 	luaexpat * 	luasec * 	libidn * . * opkg_install_cmd: Cannot install package prosody.
      - http://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/luafilesystem_1.6.2-1_x86.ipk
      - http://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/libidn_1.28-1_x86.ipk
      - http://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/luaexpat_1.2.0-1_x86.ipk
        - security errror: The version of LuaExpat on your system does not support stanza size limits, which may leave servers on untrusted networks (e.g. the internet) vulnerable to denial-of-service attacks. You should upgrade to LuaExpat 1.3.0 or higher as soon as possible. See http://prosody.im/doc/depends#luaexpat for more information.
        - https://dev.openwrt.org/ticket/17389 -> https://github.com/openwrt/packages/ (not reported)
      - http://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/luasec_0.4-1_x86.ipk
      - http://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/libidn_1.28-1_x86.ipk
      - with prosody + depedencies: 368K. before: 40.90 MB, after: 40.42 MB
      - md5sum mismatch problem, this repo is not included in qmp
        - opkg-configuration, add : "src/gz packages http://downloads.openwrt.org/barrier_breaker/14.07/x86/generic/packages/packages/"
        - update
        - install prosody
    - it can be installed in 4 and 8 MIB Flash
- free dns service: http://freedns.no-ip.com/
**** candychat, retrying
- http://candy-chat.github.io/candy/
  - src http://candy-chat.github.io/candy/#setup
  - https://github.com/candy-chat/candy/wiki/Candy-In-The-Wild#candy-as-a-plugin
    - 
  - xmpp installed: prosody
    - candy chat as node : https://github.com/pstadler/candy-node
    - prosody module: https://code.google.com/p/prosody-modules/wiki/mod_candy
      - https://code.google.com/p/prosody-modules/wiki/mod_candy
      - http://prosody.im/doc/plugins_directory
      - http://prosody.im/doc/installing_modules
      - http://prosody.im/doc/modules_enabled
  - candy config (using the example, doing this changes)
    #+begin_src js
    Candy.init('http://test.org/bosh', {
            core: {
                    autojoin: ['test@muc.test.org', 'test2@muc.test.org']
                  },
    // (...)
    Candy.Core.connect('anon.test.org')
    #+end_src
  - https://github.com/candy-chat/candy-plugins
    - https://github.com/candy-chat/candy-plugins/tree/master/inline-images
  - webrtc connection to strophe https://github.com/ESTOS/strophe.jingle
- does not have "someone is writing...?" (it is available as a plugin, only one-to-one conversation (in prosody chat is available)

**** whatsapp example
 - 1 year of use. I suspect this is average use.
 - txt messages: arrived 33. 3 MB (26,864 messages), sent 11.2 MB (14630 messages)
 - multimedia messages: arrived 347 MB (? messages), sent 104 MB (? messages)
 - 150 contacts. chat with 70. 15 groups.
 - status features
   - if this is set on, you can see from the others that has this feature on
     - ✓: sent; ✓✓ received; ✓✓ (blue) read
     - last activity (date), if is online, "Online"
     - photo (as a description about you)
     - status: available, busy, set your status, people put here something like "what's thinking"
 - storage: you store all information in your device
   - images: you receive a gaussian wavelet (?) lighweight image with the size, if you click, the image is downloaded to the device and in the conversation there is a link to the image
     - video, audio: similar
   - links: appear the link
     - what can be improved: you see directly the photo (the client goes to the link and download the photo). this can have security risks?
**** practice: xmpp poc with prosody and web app in strophe
- get xmpp web chat code (bosh) in prosody.im
  : wget -p -k https://prosody.im/chat/
  (only misses the image, because is inside the js code, not html)
  - analysis
    - var room, put the room to enter (prosody) inside the MUC component (IRC style)
    - version of chat? https://prosody.im/chat/strophe/strophe.js
      - strophe 1.2 can do websockets connections http://strophe.im/strophejs/doc/1.2.0/files/strophe-js.html#Strophe.Connection.Strophe.Connection
- install debian 8, later: sudo apt-get install apache2 prosody
- put the code stuff in /var/www/html
- put in the client and server /etc/hosts: =ip  test.org=
- prosody config /etc/prosody/prosody.cfg.lua
  - activate bosh module (it is commented by default) bosh is well configured if in the desired url we have:
    #+begin_src
    It works! Now point your BOSH client to this URL to connect to Prosody.

    For more information see Prosody: Setting up BOSH.
    #+end_src
    - src https://prosody.im/doc/modules/mod_bosh
  - cross_domain_bosh = true
  - specify domains and complements
    #+begin_src conf
    VirtualHost "test.org"
        http_paths = {
                bosh = "/bosh";
        }
    VirtualHost "anon.test.org"
        authentication = "anonymous"
    Component "muc.test.org" "muc"

    #+end_src
    - src https://prosody.im/doc/http
  - add debug stuff:
    #+begin_src conf
    log = {
            -- Log files (change 'info' to 'debug' for debug logs):
            info = "/var/log/prosody/prosody.log";
            error = "/var/log/prosody/prosody.err";
            debug = "/var/log/prosody/prosodydebug";
            -- Syslog:
            { levels = { "error" }; to = "syslog";  };
    }
    #+end_src
    - bad connection =May 20 12:08:56 socket  debug   server.lua: accepted new client connection from ip:53282 to 5280=
    - good connection =May 20 12:08:59 socket  debug   server.lua: accepted new client connection from ::1:48271 to 5280=
    - src https://prosody.im/doc/logging

- apache config
  - in apache file /etc/apache2/sites-enabled/000-default.conf, within <VirtualHost *:80>:
    #+begin_src conf
    <Location /bosh>
            Order allow,deny
            Allow from all
    </Location>
    RewriteEngine On
    RewriteRule ^/bosh$ http://test.org:5280/bosh [P,L]
    #+end_src
    - not working with localhost, perhaps because is not a real dns
    - src https://prosody.im/doc/setting_up_bosh#cross-domain_issues
*** <2015-05-19 Tue>
- Write a document that identify the kind of tasks for the project, like WBS, last section of methodology
- finish introduction and methodology sections of the project
- XMPP research
  - prosody
    - very simple XMPP chat using strophe (and bosh) https://prosody.im/chat/
    - usa lua como qmp
    - https://code.google.com/p/prosody-modules/wiki/mod_carbons
  - ejabberd
    - old docs: https://www.process-one.net/docs/ejabberd/guide_en.html#htoc80
    - fully XMPP compliant
    - web admin <ip>:5280/admin
      - user:   password: ?
    - documentation: https://www.process-one.net/en/ejabberd/docs/
    - config file
      - debian wheezy 7 does not have yaml (/etc/ejabberd/ejabberd.cfg) (new thing in config)
      - debian 8 yes (/etc/ejabberd/ejabberd.yml)
        - has nothing in admin gui, doc: http://ip:5280/admin/doc/guide.html#toc
    - small tricks https://www.ejabberd.im/tricks
    - get admin user:
      - /etc/ejabberd/ejabberd.conf ->
        - {acl, admin, {user, "admin", "ip"}}.
        - {hosts, ["ip"]}.
      - service ejabberd restart
      - ejabberdctl register admin <ip> password
  - prosody vs ejabberd: http://comments.gmane.org/gmane.linux.debian.freedombox.user/2372
    - ejabberd has webadministration but bypass config files
  - buddycloud http://buddycloud.com/documentation, seems is a protocol itself (buddycloud channels http://xmpp.org/extensions/inbox/buddycloud-channels.html), is not XMPP standard
    - http://buddycloud.com/install (DNS)
    - uses prosody
- workflow idea
  - XMPP PoC
    - Configure Prosody
    - Test against the prosody chat webapp (BOSH)
    - Try with websockets
  - LDAP guifi
  - Integrated PoC, SIP + XMPP
  - later, try with candy chat (more advanced XMPP chat)
    - https://github.com/candy-chat/candy/wiki/Installing-a-XMPP-server
- Next week work on DNS's: config DNS's in software and develop guifi drupal dns thing
- xmpp vocabulary
  - JID: Jabber Identifier
  - 5222: xmpp client connection
  - roster: contact list. A user's roster is stored by the user's server on the user's behalf so that the user may access roster information from any resource.
    - Note: There are important interactions between rosters and subscriptions; these are defined under Integration of Roster Items and Presence Subscriptions, and the reader must refer to that section for a complete understanding of roster management.
    - http://xmpp.org/rfcs/rfc3921.html#int
- trying prosody
- XMPP was known as jabber http://en.wikipedia.org/wiki/XMPP#History
- c2s/s2s: client to server/server 2 server connections (with tls)
- Prosody (going depth)
  - first, configure DNS's. Seems that simply with an A domain, is sufficient
    - https://prosody.im/doc/dns
    - A records are the standard record type, and are used in XMPP when there are no XMPP SRV records for a domain. This allows simple setups to work with no extra DNS configuration.
  - http://prosody.im/doc/configure
  - http://prosody.im/doc/example_config
  - https://prosody.im/doc/creating_accounts
  - https://prosody.im/doc/setting_up_bosh
  - developers
    - https://prosody.im/doc/developers/http
    - https://prosody.im/doc/developers
- 
  - http://xmpp.org/extensions/xep-0029.html
  - http://tools.ietf.org/html/rfc6122
  - http://tools.ietf.org/html/rfc3920
- bind DNS
  - installing bind9 using this guide http://rtcquickstart.org/guide/multi/dns.html
  - http://serverfault.com/questions/347295/how-to-configure-bind9-to-be-a-local-dns-only-with-no-internet-access
  - custom tld
    - https://jackal777.wordpress.com/2013/11/19/custom-tld-for-local-network/
    - http://timg.ws/2008/07/31/how-to-run-your-own-top-level-domain/
  - http://linuxconfig.org/linux-dns-server-bind-configuration
- /etc/hosts test
  - get certificate: http://prosody.im/doc/certificates
  - http://prosody.im/doc/anonymous_logins
  - atest.org/bosh
  - https://prosody.im/doc/setting_up_bosh#cross-domain_issues (apache)
*** <2015-05-18 Mon>
- Finishing Project Charter
  - Scope
  - Planning
  - SWOT
- Codecs supported by WebRTC http://www.webrtc.org/faq#TOC-What-codecs-are-supported-in-WebRTC-
- Major components of WebRTC http://en.wikipedia.org/wiki/WebRTC#Design
*** <2015-05-17 Sun>
- Continue Project Charter, end contents of:
  - motivation
  - objectives
  - resources
  - planning (not finished)
*** <2015-05-16 Sat>
- Document Structure
- Project Charter and Tasks (~wbs) deliverables, and how they integrate in the Document Structure
  - table for resources
  - gantt diagram for planning
- Make the latex thing compile
- Formal things, remember
  - http://repositori.upf.edu/handle/10230/20036
  - http://www.upf.edu/bibtic/es/guiesiajudes/eines/tesis/quart.html
*** <2015-05-15 Fri>
**** Please do
- documentation for WebRTC
  - http://www.html5rocks.com/en/tutorials/webrtc/basics
    - extra? https://hacks.mozilla.org/2012/03/video-mobile-and-the-open-web/
- write day: Title, Abstract, Document Structure
**** Did
- Jingle, seems a pre-WebRTC release (2009)
  - http://xmpp.org/extensions/xep-0167.html
  - http://en.wikipedia.org/wiki/Jingle_(protocol)
- TLS vs SSL (that is used in HTTPS and WSS): http://stackoverflow.com/questions/3690734/difference-between-ssl-tls
- Dynamic federation (looking SRV record) http://ocsguy.com/2011/04/20/a-few-words-on-federation/
- Autodiscover SRV http://blogs.technet.com/b/rmilne/archive/2014/10/02/how-to-check-exchange-autodiscover-srv-record-using-nslookup.aspx
- XMPP library websockets webrtc https://gowebrtc.me/
***** RFC inspection
****** important
- NAPTR: pointer to services in a domain RFC2915 https://www.ietf.org/rfc/rfc2915.txt
- SRV
  - RFC2782 updated by RFC6335
  - RFC3832 remote service discovery: Remote Service Discovery in the Service Location Protocol (SLP) via DNS SRV
****** others
- the only RFC's about Websockets are [I included them as bibliography]:
  - RFC6455 (websocket itself)
  - RFC7118 (ws sip)
  - RFC7355 (ws sip upgrade (?) *CHECK*)
  - RFC7395 (ws xmpp)
- this seems interesting
  - RFC7478 Web Real-Time Communication Use Cases and Requirements
  - RFC7362 Latching: Hosted NAT Traversal (HNT) for Media in Real-Time Communication
  - key person: E. Ivov (XMPP)
    - P2P RTC 5765
    - 7081 *CUSAX: Combined Use of the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP)*
      - Historically, SIP [RFC3261] and XMPP [RFC6120] have often been implemented and deployed with different purposes: from its very start, SIP's primary goal has been to provide a means of conducting "Internet telephone calls".  On the other hand, XMPP has, from its Jabber days, been mostly used for instant messaging, presence [RFC6121], and related services such as groupchat rooms [XEP-0045].
      - In the context of the SIP for Instant Messaging and Presence Leveraging Extensions (SIMPLE) working group, the IETF has defined a number of protocols and protocol extensions that not only allow for SIP to be used for regular instant messaging and presence but that also provide mechanisms for related features such as multi-party chat, server-stored contact lists, and file transfer [RFC6914].
      - Similarly, the XMPP community and the XMPP Standards Foundation have worked on defining a number of XMPP Extension Protocols (XEPs) that provide XMPP implementations with the means of establishing end-to-end sessions. These extensions are often jointly referred to as Jingle [XEP-0166], and arguably their most popular use case is audio and video calling [XEP-0167].
  - 7106 a group text chat purpose... SIP event package..?
  - V. Pascual
    - RFC7332 RFC7092 about SIP and B2BUAs
- RFC5194 Framework for Real-Time Text over IP Using the SIP
- RFC6464 and 6465 E. Ivov RTP Header client to mixer audio level indication
*** <2015-05-14 Thu>
**** doc and links
- work on ws XMPP
  - prosody ldap http://prosody.im/doc/authentication https://code.google.com/p/prosody-modules/wiki/mod_auth_ldap
    - http://rtcquickstart.org/guide/multi/xmpp-server-prosody.html#idp62916736
  - BOSH working with Ejabberd, Firefox and Strophe http://anders.conbere.org/2011/05/03/get_xmpp_-_bosh_working_with_ejabberd_firefox_and_strophe.html
- work on ws SIP
  - kamailio ldap http://www.kamailio.org/wiki/tutorials/mini-howto-admin/ldap-user-auth http://www.kamailio.org/dokuwiki/doku.php/tutorials:kamailio31-auth-ldap
    - http://www.kamailio.org/wiki/tutorials/mini-howto-admin/ldap-user-auth
    - http://www.kamailio.org/dokuwiki/doku.php/tutorials:kamailio31-auth-ldap
  - test lumicall thing (is another jssip invent, but more interesting to reuse, is from debian)
    - https://rtc.debian.org/
- nested LDAP
- resiprocate offers SIP proxy and TURN server http://julianalouback.com/tech/2014/10/30/jscommunicator-at-xtuplecon-2014/
- Server-side WebRTC Infrastructure http://www.slideshare.net/Dialogic/serverside-webrtc-infrastructure-chad-hart-dialogic
  - WebRTC Gateway :: interworks signalling and media with existing VoIP networks
    - defined here https://tools.ietf.org/html/draft-ietf-rtcweb-overview-13 "as A WebRTC gateway is a WebRTC-compatible endpoint that mediates
      media traffic to non-WebRTC entities."
  - Media Server :: Provides conferencing recording, interworking, transcoding, stream processing
    - MCU (Multipoint Conferencing Unit)
    - SFU (Selective Forwarding Unit)
- Daniel Pocock anouncing new SIP service for Debian community https://lists.debian.org/debian-devel-announce/2014/01/msg00004.html
  - A key feature of this SIP deployment is that it supports federated inter-connectivity with other SIP domains from the outset.  Please try it.  For details of how it works and how we establish trust between domains, please see RFC 5922 http://tools.ietf.org/html/rfc5922
  - rAsterisk compatible with WebRTC https://wiki.debian.org/UnifiedCommunications/DebianDevelopers/UserGuide/Asterisk
  - NAPTR debian http://danielpocock.com/naptr-record-for-debian-org
  - https://wiki.debian.org/UnifiedCommunications/DebianDevelopers/FAQ
    - about contact list
    - it is stateful proxy


**** what I did
- download last firefox and google chrome binaries from its sites to do all tests
  - don't know if I can use the debian ones
- trying *cloudy*
  - installed debian 8
  - cloudynitzar it (https://github.com/Clommunity/cloudynitzar)
    - lost IP, reboot and =apt-get -y remove getinconf-client= applied
    - apt-get autoremove: =liblzo2-2 tinc=
  - installed dnsservices through web application (http://ADDRESS:7000)
    - src http://cloudy.community/get-started/
- *jscommunicator*
  - trying with github repo, development version
    - src: setup and architecture http://julianalouback.com/tech/2014/08/11/jscommunicator-setup-and-architecture/
      - others
        - translation? http://julianalouback.com/tech/2014/08/14/jscommunicator-2.0-is-live/
        - contribute translation: http://julianalouback.com/tutorial/2014/07/17/contribute-a-jscommunicator-translation/
    - debian 8 installed (debian 7 -> libjs-jquery-i18n-properties not found)
    - apt-get install kamailio withouth AUTH in registers
    - git clone https://github.com/opentelecoms-org/jscommunicator jsc
    - sudo apt-get install libjs-jquery libjs-arbiter libjs-jquery-i18n-properties libjs-jquery-ui libjs-jssip fonts-font-awesome
    - as suggested by the /var/www/html/jsc/phone-dev.shtml file, =a2enmod include=
      - what means .shtml? indicates a file that includes some information that will be added "on the fly"
        - src http://searchsoa.techtarget.com/definition/shtml
    - put =Options +Includes= in the default directory of apache's debian 8 /etc/apache2/apache2.conf
      #+begin_src
      <Directory /var/www/>
              Options Indexes FollowSymLinks
              AllowOverride None
              Require all granted
              Options +Includes
      </Directory>
      #+end_src
    - <ip>/jscommunicator/phone-dev.shtml
    - try with latest jssip library
      - http://jssip.net/download/jssip-devel.js not working anymore, redirects to http://jssip.net
      - http://jssip.net/download/releases/ took http://jssip.net/download/releases/jssip-0.6.26.js
    - missing GET http://10.1.56.214/jsc/images/ui-icons_222222_256x240.png 404 (Not Found)
      - fixed (from jsc directory):
        - mkdir images
        - wget http://theobjective.com/static/grappelli/jquery/ui/css/custom-theme/images/ui-icons_222222_256x240.png -O images/ui-icons_222222_256x240.png
          - src http://stackoverflow.com/questions/19515943/icons-missing-in-jquery-ui
  - trying the package for debian8 (.deb)
    - installed debian 8
    - apt-get install jscommunicator-web-phone
      - suggested for xmpp-server (ejabberd, prosody)
    - next steps seems configure with *resiprocate* (instead of kamailio) http://danielpocock.com/get-webrtc-going-faster
      - is the same as this config file? http://rtcquickstart.org/guide/multi/sip-proxy-repro.html#repro-config-file
      - repro config http://www.sipspectrum.com/blog
      - http://www.resiprocate.org/WebRTC_and_SIP_Over_WebSockets
  - *freephonebox* (anonymous calls, call without register) is a jscommunicator that register an anonymous user in the configuration. seems that is not protected (only register from a webpage)
    - article: launching freephonebox, http://danielpocock.com/launching-freephonebox-net
  - *clicktocall* could be possible touching dialing autodial onstartup with the preferred destination in config.js
  - WebRTC to SIP is not working, due to the low version?
  - with JSSIP alone I cannot call to standard SIP clients, /seems I need oversip/. What happens is that media (RTP) of WebRTC is incompatible with media of SIP, it is needed a media gateway (example, http://www.rtpproxy.org/)
    - http://es.slideshare.net/elastixorg/jssip-sip-webrtc
- xmpp stuff (https://xmpp.org/xmpp-software/clients/ all xmpp clients, check browser ones)
  - trying *candy-chat* (XMPP)
    - http://candy-chat.github.io/candy/
      - src http://candy-chat.github.io/candy/#setup
      - https://github.com/candy-chat/candy/wiki/Installing-a-XMPP-server
      - to be continued
  - places where rated jappixx and candy as good things:
    - https://is-a-furry.org/list-finished-finetuning-candy-maintaing-jappix/
    - http://raspberrypi.stackexchange.com/questions/4414/irc-xmpp-web-based-chat-client-or-bnc
  - trying *jappix* (XMPP)
    - about jappix
      - use webrtc? https://community.igniterealtime.org/blogs/ignite/2012/07/19/jappix-websockets-webrtc-and-jingle
      - jappix mini https://github.com/jappix/jappix/issues/192
    - XMPP server https://github.com/jappix/jappix/wiki/XmppServer
    - https://github.com/jappix/jappix/issues/549
    - by this info, websockets is not supported https://github.com/jappix/jappix/blob/master/PROTOCOL.md
- trying http://otalk.org/, discarded, need too much work to do on it
*** <2015-05-13 Wed>
- guifi voip
  - LDAP nested
  - verify that LDAP works (example from there) ldapsearch -x -h 10.139.50.2 -b dc=ripollet,guifi,dc=net -LLL SIPIdentityUserName=1*1
    - apt-cache serach ldapsearch -> ldapscripts ldapvi (installed)
      - https://github.com/guifi/guifiproxy/tree/master/guifi-proxy3-1
  - register user with LDAP figure 4.2
- kamailio modules: C, prosody modules: lua
- /closed/ implementation (should be more modular) https://github.com/strukturag/spreed-webrtc
- adding new service to cloudy (is not easy, seems out of scope) https://github.com/Clommunity/Doc/blob/master/plugins/pastecat/pastecat.md
- draws
  - [[img/architecture-design-client-serverstack.png]]
  - [[img/deployment.png]]
  - [[img/phases.png]]
  - [[img/server-federation.png]]
**** how it works guifi dnsservices
- guifi module manages the domain
- dnsservices is a PHP script executed ([cron] every 30 seconds) in the DNS server of each zone. Query the guifi web with its own ID of DNS service and get domain configuration for the zone in XML format. It parses the XML and translate it in a config file (named.conf) for bind dns. Also creates the config files for master zone if it has it.
- example
  - ID 2627 is the gurb's DNS zone
    - In that DNS server there are configured some domain master, one of them, guifi.net
    - this is what gets the dnsservices.php http://miquelm.guifi.net/guifi/cnml/2627/domains
      - the important thing is this row: <master zone="guifi.net" IPv4="10.138.0.2" nameserver="ns1" domain_ip="10.38.141.69" domain_ip_v6="2a00:1508::5" externalMX="" externalNS="" allow-transfer="any" contact="name.surname@guifi.net" domain_id="1" service_id="2627">
**** preparing guifi development environment 
- src http://ca.wiki.guifi.net/wiki/Preparant_l'entorn_de_desenvolupament
- installation of requirements
  - install debian 8
  - apt-get install mysql-server libapache2-mod-php5 php5-gd php5-mysql
  - echo -e "extension=mysql.so\nextension=iconv.so\nextension=gd.so" >> /etc/php5/apache2/php.ini
  - echo -e "<?php\nphpinfo();\n?>" >> /var/www/html/test.php
    - check in browser: <serverip>/test.php
  - Allow Override All, is not in /etc/apache2/sites-enabled/000-default is in /etc/apache2/apache2.conf 
    - src http://stackoverflow.com/questions/18740419/how-to-set-allowoverride-all
- placing drupal
  - wget http://ftp.drupal.org/files/projects/drupal-6.29.tar.gz
  - tar xvf drupal-6.29
  - mv drupal-6.29 drupal
  - ln -s /root/drupal /var/www/html/guifi
    - doesn't like symbolic links
  - mv /root/drupal /var/www/html/guifi
  - mkdir /var/www/html/guifi/sites/all/modules
  - cd /var/www/html/guifi/sites/all/modules
- download modules
  - generic modules
    - wget http://ftp.drupal.org/files/projects/webform-6.x-3.19.tar.gz http://ftp.drupal.org/files/projects/views-6.x-2.16.tar.gz http://ftp.drupal.org/files/projects/views_slideshow-6.x-2.4.tar.gz  http://ftp.drupal.org/files/projects/i18n-6.x-1.10.tar.gz  http://ftp.drupal.org/files/projects/schema-6.x-1.7.tar.gz  http://ftp.drupal.org/files/projects/devel-6.x-1.27.tar.gz  http://ftp.drupal.org/files/projects/potx-6.x-3.3.tar.gz  http://ftp.drupal.org/files/projects/l10n_client-6.x-2.2.tar.gz  http://ftp.drupal.org/files/projects/language_sections-6.x-2.5.tar.gz  http://ftp.drupal.org/files/projects/diff-6.x-2.3.tar.gz  http://ftp.drupal.org/files/projects/captcha-6.x-2.5.tar.gz  http://ftp.drupal.org/files/projects/captcha_pack-6.x-1.0-beta3.tar.gz  http://ftp.drupal.org/files/projects/event-6.x-2.x-dev.tar.gz  http://ftp.drupal.org/files/projects/cck-6.x-2.9.tar.gz  http://ftp.drupal.org/files/projects/fckeditor-6.x-2.3.tar.gz  http://ftp.drupal.org/files/projects/image-6.x-1.2.tar.gz  http://ftp.drupal.org/files/projects/image_filter-6.x-1.0.tar.gz  http://ftp.drupal.org/files/projects/fivestar-6.x-1.20.tar.gz  http://ftp.drupal.org/files/projects/votingapi-6.x-2.3.tar.gz
      - missing modules: language, icons (no link)
    - modules not documented
      - ckeditor has 2 parts, the drupal module and the web application (this module is not in the documentation)
        - module. to download/install a module by name is, =drush en ckeditor -y=
          - src http://drupal.stackexchange.com/questions/60375/drush-command-to-download-and-enable-a-module
        - web application
          - =cat /var/www/html/guifi/sites/all/modules/ckeditor/ckeditor/COPY_HERE.txt= say to download there the web application
          - =cd /var/www/html/guifi/sites/all/modules/ckeditor/ckeditor/=
          - wget http://download.cksource.com/CKEditor/CKEditor/CKEditor%204.4.7/ckeditor_4.4.7_standard.zip
          - unzip *.zip
            - apt-get install zip
          - mv ckeditor/* .
          - ckeditor.js should be placed in /var/www/html/guifi/sites/all/modules/ckeditor/ckeditor/ckeditor.js
        - to quit the translator footer edit the user and quit its role of "translator"
        - after the update, it needs to dump again the mysql database
      - more modules!
        - list
          - Front Page        6.x-2.0-rc1
          - EU Cookie Compliance        6.x-1.10
          - Spambot        6.x-3.4
          - Language icons        6.x-2.1
          - Openid Provider        6.x-1.0
          - PDF version        6.x-1.19
          - Smileys        6.x-1.1
        - install it with drush: =drush en spambot languageicons openid_provider print smileys=
          - install separately
            - front (install front_page) and tries to overwrite constantly front
            - eu_cookie_compliance [by hand] bug, if you put eu_cookie_compliance there is an error (machine readable error) -> put it by hand
          - https://www.drupal.org/project/print
  - guifi modules ( /var/www/html/guifi/sites/all/modules )
    - guifi module: git clone https://github.com/guifi/drupal-guifi guifi
    - guifi budgets: git clone https://github.com/guifi/drupal-budgets budgets
- install instructions in /var/www/html/guifi/INSTALL.txt
  - cd /var/www/html/guifi
  - cp sites/default/default.settings.php sites/default/settings.php
  - chmod o+w sites/default/settings.php
  - chmod o+w sites/default
  - when achieved database part we have to create a database
    - mysql -u root -p
      - create database guifi_test;
      - grant all on guifi_test.* to guifi@localhost identified by 'guifinet';
  - put ip 10.1.56.199
  - untar directory sites/all/modules  =for i in *.tar.gz; do tar -xvf $i; done=
    - src http://forums.devshed.com/linux-help-33/tar-wildcards-un-tar-multiple-files-349451.html
  - web installation finished, exit write permissions to avoid security risks (from INSTALL.txt)
    - =chmod a-w sites/default/settings.php=
    - =chmod a-w sites/default=
  - current state of database:
    - cd /root
    - wget http://www.guifi.net/guifi66_devel.sql.gz
    - compression/decompression of gzip
      - compress: =gzip file.txt=
      - decompress: =gunzip file.txt.gz=
      - does not keep the original, to do it, pass it to stdin =gzip/gunzip -c input > output=
        - src http://unix.stackexchange.com/questions/46786/how-to-tell-gzip-to-keep-original-file
    - =mysql -u root -p guifi_test < guifi66_devel.sql=
  - more things to apply in /var/www/html/guifi
    - =echo "RewriteBase /guifi" >> .htaccess =
    - =mkdir -p {files/nanostation,tmp}=
    - =chmod 777 -R {files,tmp}=
    - =cat << EOF | tee files/.htaccess tmp/.htaccess > /dev/null= and copy the text
      - copy to multiple files, src: http://unix.stackexchange.com/questions/41246/how-to-redirect-output-to-multiple-log-files
      - to append, tee -a
    - =echo "Deny from all" >> tmp/.htaccess=
    - =cat << EOF > robots.txt= and copy the text
    - theme_guifinet2011 installation
      - you have to apply "the changes" of the theme (strange but effective) http://10.1.56.199/guifi/ca/admin/build/themes/settings/guifi.net2011
  - update to drupal core 6.35 using *drush* (CLI for drupal)
    - drush doc: https://www.drupal.org/documentation/modules/drush
    - apt-get install drush
    - cd /var/www/html/guifi
    - drush status
      - got an error and pointed to the page that solves it https://www.drupal.org/node/1029506 this error will not be showed again, updated database with this changes
        - mysql -u root -p 
          - UPDATE users SET uid = 0 WHERE name = '';
      - output
        #+begin_src 
        drush st
        Drupal version                  :  6.35                  
        Site URI                        :  http://default        
        Database driver                 :  mysqli                
        Database hostname               :  localhost             
        Database username               :  root                  
        Database name                   :  guifi_test            
        Database                        :  Connected             
        Drupal bootstrap                :  Successful            
        Drupal user                     :  Anonymous             
        Default theme                   :  guifi.net2011         
        Administration theme            :  guifi.net2011         
        PHP configuration               :  /etc/php5/cli/php.ini 
        Drush version                   :  5.10.0                
        Drush configuration             :                        
        Drupal root                     :  /var/www/html/guifi   
        Site path                       :  sites/default         
        File directory path             :  files                 
        Temporary file directory path   :  tmp    
        #+end_src
    - update: =drush up=
      - only security updates: drush up --security-only
        - or drush up --security-only --simulate
        - src http://drupal.stackexchange.com/questions/71576/how-do-i-update-drupal-7-core-with-only-security-patches
      - output example (not all modules installed)
        #+begin_src
        Update information last refreshed: Wed, 13/05/2015 - 20:26

        Update status information on all installed and enabled Drupal projects:
         Name                                   Installed version  Proposed version  Status                                             
         Drupal                                 6.35               6.35              Up to date                                         
         CAPTCHA (captcha)                      6.x-2.6            6.x-2.6           Up to date                                         
         CKEditor (ckeditor)                    6.x-1.15           6.x-1.15          Up to date                                         
         cck                                    6.x-2.9            6.x-2.9           Up to date                                         
         Devel (devel)                          6.x-1.28           6.x-1.28          Up to date                                         
         Diff (diff)                            6.x-2.3            6.x-2.3           Up to date                                         
         Event (event)                          6.x-2.x-dev        6.x-2.x-dev       Up to date                                         
         Fivestar (fivestar)                    6.x-1.21           6.x-1.21          Up to date                                         
         Internationalization (i18n)            6.x-1.10           6.x-1.10          Up to date                                         
         Image (image)                          6.x-1.2            6.x-1.2           Up to date                                         
         Image Filter (image_filter)            6.x-1.0            6.x-1.0           Up to date                                         
         Localization client (l10n_client)      6.x-2.2            6.x-2.2           Up to date                                         
         Language Sections (language_sections)  6.x-2.5            6.x-2.5           Up to date                                         
         Translation template extractor (potx)  6.x-3.3            6.x-3.3           Up to date                                         
         Schema (schema)                        6.x-1.7            6.x-1.7           Up to date                                         
         Views (views)                          6.x-2.18           6.x-2.18          Up to date                                         
         Views Slideshow (views_slideshow)      6.x-2.4            6.x-2.4           Up to date                                         
         Voting API (votingapi)                 6.x-2.3            6.x-2.3           Up to date                                         
         Webform (webform)                      6.x-3.23           6.x-3.23          Up to date                                         
         Budgets (budgets)                      Unknown            Unknown           Project was not packaged by drupal.org but         
                                                                                     obtained from git. You need to enable git_deploy   
                                                                                     module                                             
         guifi.net (guifi)                      Unknown            Unknown           Project was not packaged by drupal.org but         
                                                                                     obtained from git. You need to enable git_deploy   
                                                                                     module                                             
         guifi.net2011 (guifi.net2011)          Unknown            Unknown           Project was not packaged by drupal.org but         
                                                                                      obtained from git. You need to enable git_deploy   
                                                                                      module
        #+end_src
      - I tried with other commands, but I didn't get a complete update
        - =drush pm-update drupal=
          - not update to the latest: https://www.drupal.org/taxonomy/term/34882
        - =drush pm-update devel=
** <2015-05-06 Wed>--<2015-05-12 Tue>
*** <2015-05-12 Tue>
- SRV and NAPTR
  - SRV: http://www.onsip.com/about-voip/sip/dns-srv-records-sip
  - SRV NAPTR: http://anders.com/cms/264/
    - standard "A" DNS record lookups won't tell you anything about which of these protocols to use
    - /NAPTR see what SRV records are available/
- LDAP
  - ACL means (Access Control List) http://en.wikipedia.org/wiki/Access_control_list
- https://webrtchacks.com/signalling-options-for-webrtc-applications/
  - Good Architectural Introduction to WebRTC http://prezi.com/qwejmltpng8x/webrtc/
  - Problems with SIP over Websocket
    - big obstacle to deployments in those environments where HTTP middleboxes (e.g.  corporate proxies or transparent content optimization systems) do not support it
    - On the other hand, the SIP protocol is not designed — and not easily adaptable — to make use of the Trickle ICE optimization essential for minimizing connectivity establishment time. In quite common situations, it can lead to delays intolerable for the end user.
      - In particular, the delays with non-trickle ICE connectivity establishment happen when the user endpoint is configured with one or more network interfaces that cannot reach the STUN and TURN servers. This is a common situation with multi-homed devices such as smartphones that simultaneously connect to 3G/4G and WiFi networks, but also with laptops running VPNs, virtual machines, or simply configured with non-reachable IPv6 address. As a reference point, although with absolutely no scientific relevance, the sipML5 live demo running on a box with an active OpenVPN instance (at the very same time this article is being written) takes more than ten seconds to fire the initial INVITE out. Disconnecting the VPN takes the delay down to less than one second.
        - more: https://tools.ietf.org/html/draft-ietf-mmusic-trickle-ice-sip-01
  - XMPP-based signalling is frequently discussed in WebRTC-related forums — and will certainly emerge
- XMPP inspection
  - RFC7395: An Extensible Messaging and Presence Protocol (XMPP) Subprotocol for WebSocket. /The same that I found for SIP over Websockets/
    - http://tools.ietf.org/html/rfc7395
    - in introduction recognises that BOSH is a hacking, but that websockets is better approach
      - https://blog.andyet.com/2014/10/30/websocket
  - prosody
    - anonymous logins: http://prosody.im/doc/anonymous_logins
    - websocket module: http://prosody.im/doc/modules/mod_websocket
  - javascript xmpp (web) clients (not tested)
    - https://conversejs.org/
      - support websocket
        - https://github.com/jcbrand/converse.js/issues/204
        - https://github.com/jcbrand/converse.js/issues/316
    - https://www.jsxc.org/ Add real-time XMPP chat to any web application!
    - https://candy-chat.github.io/candy/ -> I like, seems similar to webchat.freenode.net , but uses old technologies. Extract design?
      - seems supported webrtc early http://candy-chat.github.io/candy-webrtc/
      - and is based on strophejs
      - its developer also did:
        - https://github.com/mweibel/sdpToJingle
      - mailing list: https://groups.google.com/forum/#!forum/candy-chat
    - javascript libraries compatible with websockets
      - strophe (most important) http://strophe.im/strophejs/ (in github is more popular than stanza)
        - plugins https://github.com/strophe/strophejs-plugins
        - writing strophe plug-ins http://professionalxmpp.com/profxmpp_ch14.pdf
        - book: Professional XMPP
      - stanza https://github.com/otalk/stanza.io
        - supports XEP-0313 (message archive management)
        - works with RFC7395 src https://github.com/otalk/stanza.io#important-protocol-changes
        - used in http://otalk.org/ http://talky.io jitsi style
          - otalk server https://github.com/andyet/otalk-server
      - node-xmpp https://github.com/node-xmpp/node-xmpp
        - https://github.com/node-xmpp/node-xmpp/issues/217
*** <2015-05-08 Fri>
- Privacy issue makes that Firefox Hello is not available in Iceweasel (the unbranded Firefox) https://labs.parabola.nu/issues/677
*** <2015-05-07 Thu>
- how it works trysip temporary account: https://groups.google.com/forum/#!topic/jssip/EaWrPq8YTvA "OverSIP and Kamailio don't ask for SIP authentication so the REGISTER coming from JsSIP is just allowed (before that, OverSIP verifies that the WS connection comes from a script running in "http://tryit.jssip.net" and some others verifications).
- disable auth, just =# route(AUTH);= in kamailio.cg
- https://webrtchacks.com/webrtctrunk/
  - "Take your WebRTC calls and route them over a SIP trunks"
  - Ephemeral Authentication http://kamailio.org/docs/modules/4.1.x/modules/auth_ephemeral.html
    - http://www.kamailio.org/w/tag/ephemeral/
      - credentials will be requested from the web-service using an HTTP GET and provided in a JSON response. To prevent unauthorised use the HTTP requests can be ACLd by various means.
      - request/response: http://kamailio.org/docs/modules/4.1.x/modules/auth_ephemeral.html#idp18624880
  - This allows to open registration in SIP server for trusted webserver/webrtc app
- Choice of webrtc javascript libraries https://webrtchacks.com/whats-in-a-webrtc-javascript-library/
  - more webrtc tools: https://webrtchacks.com/vendor-directory/
  - Common WebRTC JS library API Mechanisms
    - Initialization of the library
    - Registration
    - Create and Manage WebRTC Sessions
    - Event Callbacks: notify/debug
  - Signalling transport: HTTP, Comet, Bosh, Websockets
  - Signalling protocol options: XMPP, REST, XML, JSON, SIP
  - The problem for HTTP, and especially REST, that they are inherently stateless, with strict client-server roles
  - For a good WebRTC signaling channel, a state-ful connection is needed, where request messages can be pushed at any time from the server
  - Check Orca.  If there was any concern that the variance in these APIs was too great, and you wanted to keep your code agnostic to the WebRTC JS library underneath, there are even industry efforts and vendors that offer to help with that (for example ORCA.js ) by maintaining a bit of JavaScript wrapper around the WebRTC JS library API.
- https://webrtchacks.com/orca/ Open Real-Time Communications APIs
  - The strength of WebRTC is its focus on enabling realtime media for browser-based applications. Although this has clear value, it also has limitations for developers:
    - signalling out of scope
    - running in browser with continuous update cycle
    - adaptation to legacy protocols
  - Reflector protocol: minimal signaling server that uses WebSocket and JSON elements to exchange messages.
- https://webrtchacks.com/webrtc-gw/
  - about gateways, functional requirements
    - architectural
    - protocols
    - media management
    - signalling
    - putting this all together
  - Signalling: If you want it to be as generic as possible, as I did, an alternative approach may be relying on an ad-hoc protocol, e.g., based on JSON or XML, which leaves you the greatest freedom when it comes to design a bridge to other technologies.
  - https://github.com/meetecho/janus-gateway
- https://webrtchacks.com/webrtc-beyond-one-one/ (RTP topologies)
  - Centralized vs P2P
  - Mixing vs Routing
  - Mesh problem: low uplink and too much CPU in end client
- others
  - https://webrtchacks.com/tool-time-introducing-the-webrtc-developer-tool-vendor-directory/
  - http://en.wikipedia.org/wiki/E.164
    - max length 15 http://electronics.howstuffworks.com/telephone-country-codes3.htm
- other things
  - A high-performance software proxy that brings control to your VoIP network. http://www.rtpproxy.org/
  - command line sip client:
    - https://github.com/tmakkonen/sipcmd
    - http://www.pjsip.org/download.htm
  - honey pot: http://blog.pepelux.org/2013/06/22/creando-un-honeypot-con-kamailio/
    - protect against SIP scanners: http://diablo.craem.net/?p=967
** <2015-04-22 Wed>--<2015-05-06 Wed>
*** <2015-05-06 Wed>
- kurento open source media server https://www.kurento.org/docs/current/tutorials.html LGPLv2.1 https://github.com/Kurento/kurento-media-server
  - streaming webrtc https://www.kurento.org/docs/current/tutorials/node/tutorial-3-one2many.html
  - p2p: http://stackoverflow.com/questions/20056683/webrtc-multicast-one-to-many
  - review: https://webrtchacks.com/kurento/
- SFU: https://jitsi.org/Projects/JitsiVideobridge
  - jitsi meet: https://github.com/jitsi/jitsi-meet
  - this is a XMPP solution. SIP gateway, "jigasi": https://github.com/jitsi/jigasi
- read
  - https://webrtchacks.com/webrtc-beyond-one-one/
  - https://bloggeek.me/webrtc-broadcast/
  - https://bloggeek.me/webrtc-multipoint-small-groups/
  - https://bloggeek.me/webrtc-multipoint-large-groups/
*** <2015-05-05 Tue>
- draws
  - [[img/poc-architecture-draft.png]]
  - [[img/implementation-draft.png]]
*** <2015-05-04 Mon>
- show users registered: kamctl db show subscriber
- guifi.net integration
  - LDAP: unique users search name@* in all servers
    - legacy system prefix + user number (drupal) ? (variable length in sip enum?)
    - LDAP can be downloaded locally?
  - fix dnsservices (naptr, srv) in bind dns: https://github.com/guifi/dnsservices/blob/master/dnsservices.php
    - dns setup guide: http://www.rtcquickstart.org/dns-setup
    - general guide www.rtcquickstart.org/
    - need guifi's drupal development environment
  - scalability: cloudy, sip trunking ?
- others
  - http://www.rtcquickstart.org/ICE-STUN-TURN-server-installation
- advanced
  - multiuser chat/video/audio
*** <2015-05-03 Sun>
- install cloudy KVM with proxmox
- configure kamailio: http://kb.asipto.com/kamailio:skype-like-service-in-less-than-one-hour
  - changes, I use wheezy
    - wget http://deb.kamailio.org/kamailiodebkey.gpg
    - apt-key add kamailiodebkey.gpg
  - password MySQL with kamailio: kamailio/kamailiorw kamailioro/kamailioro
  - sudo apt-get install kamailio kamailio-websocket-modules kamailio-mysql-modules kamailio-tls-modules
  - sudo apt-get install mysql-server
  - upgraded steps:
    - https://quobis.atlassian.net/wiki/display/QoffeeSIP/Server+configurations
  - changes 64bit (mpath="/etc/kamailio# cd /usr/lib/x86_64-linux-gnu/kamailio/modules/") mpath to 32bit (mpath="/usr/lib/i386-linux-gnu/kamailio/modules/")
  - /etc/kamailio/kamctlrc
*** <2015-04-29 Wed>
- SRV, NAPTR seems to be needed in case of domain?
- here is not dnsservices https://github.com/guifi/dnsservices
- mounting a new machine for the tests
*** <2015-04-28 Tue>
- guifi.net proxies are problematic for webrtc applications, but as they use websockets (proof that), we can use websockets proxy. http://nginx.com/blog/realtime-applications-nginx/ http://en.wikipedia.org/wiki/WebSocket#Proxy_traversal
- Started with jscomunicator because it details how to use a sip proxy
  - http://jscommunicator.org/quickstart
    - Set up a SIP proxy
      - DNS setup needed: http://www.rtcquickstart.org/dns-setup
        - can I use a qui.guifi.net subdomain? no
        - alternatives (start with free dns services in internet)
          - https://www.heroicdebugging.biz/2014/03/05/adding-srv-records-at-httpfreednsafraidorg/
          - http://www.noip.com/support/knowledgebase/how-to-add-a-srv-record-to-your-minecraft-server-remove-the-port-on-the-end-of-the-url/
        - I will have to look at guifi dnsservices ??? How was resolved this by the UAB work -> it was not resolved. didn't touch DNS
    - Set up the web server
*** <2015-04-24 Fri>
- I started organizing contents of the past weeks that took me to this situation

**** WebRTC demo
Succeded in the most easy way to try WebRTC between two computers,
very interesting to do a demo

: sudo apt-get install apache2
: cd /var/www
: git clone https://github.com/peers/peerjs/
: cd peerjs
: mv examples/videochat/* .

change
: <script type="text/javascript" src="/dist/peer.js"></script>
to
: <script type="text/javascript" src="dist/peer.js"></script>

One browser:
: localhost/peerjs/index.html

Other browser:
: <ip>/peerjs.index.html

Update:
Signalling server in the internet
**** Others
- Other WebRTC services
  - https://github.com/strukturag/spreed-webrtc
  - https://github.com/jitsi/jitsi-meet
- WebRTC libraries
  - What's PeerJS? http://peerjs.com/
  - What's Simple Peer? https://github.com/feross/simple-peer
- Related to cloudy
  - Interesting related project: https://github.com/netmackan/socialhost
  - Something to say about etcd (used in cloudy):
    https://aphyr.com/posts/316-call-me-maybe-etcd-and-consul
